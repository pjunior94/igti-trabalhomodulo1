<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trabalho - IGTI</title>
</head>
<body>
    <div>
        <p>(R) Vermelho: <input type="range" id="redRange" min="0" max="255"> <input type="text" name="red" id="redInput" disabled> <br><br></p>
        <p>(G) Verde: <input type="range" id="greenRange" min="0" max="255"> <input type="text" name="green" id="greenInput" disabled> <br><br></p>
        <p>(B) Azul: <input type="range" id="blueRange" min="0" max="255"> <input type="text" name="blue" id="blueInput" disabled> <br><br></p>
    </div>

    <div id="square" style="height: 50px; width: 50px;">

    </div>
</body>
</html>

<script>

    let redInput = null;
    let greenInput = null;
    let blueInput = null;

    let redRange = null;
    let greenRange = null;
    let blueRange = null;
    
    let square = null;

    let r = '0';
    let g = '0';
    let b = '0';

    window.addEventListener('load', () => {
        mapElements();
        syncDiv();
    });

    function mapElements() {
        redRange = document.querySelector("#redRange")
        greenRange = document.querySelector("#greenRange")
        blueRange = document.querySelector("#blueRange")

        redInput = document.querySelector("#redInput");
        greenInput = document.querySelector("#greenInput");
        blueInput = document.querySelector("#blueInput");

        redRange.addEventListener('change', handleInputRangeChange)
        greenRange.addEventListener('change', handleInputRangeChange)
        blueRange.addEventListener('change', handleInputRangeChange)

        square = document.querySelector('#square');
    }

    function syncDiv() {
        square.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;

        redInput.value = r;
        greenInput.value = g;
        blueInput.value = b;
    }

    function handleInputRangeChange(event) {
        const value = event.target.value;
        const id = event.target.id;

        console.log(event, value, id);

        switch (id) {
            case "redRange": 
                r = value;
                break;

            case "greenRange": 
                g = value;
                break;

            case "blueRange": 
                b = value;
                break;
        }
        syncDiv();
    }
</script>